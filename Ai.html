<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Ø£Ø¨Ùˆ Ø§Ù„Ø´Ø§Øª Ø§Ù„Ù…Ø­Ù„ÙŠ</title>
  <!-- Ø¥Ø¶Ø§ÙØ© Font Awesome Ù„Ù„Ø£ÙŠÙ‚ÙˆÙ†Ø§Øª -->
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/all.min.css">
  <style>
    * {
      box-sizing: border-box;
      margin: 0;
      padding: 0;
    }

    body { 
      font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif; 
      background:
        radial-gradient(circle at 0% 0%, #1f2937 0, #020617 55%, #000 100%);
      padding: 16px; 
      margin: 0;
      min-height: 100vh;
      display: flex;
      align-items: center;
      justify-content: center;
      color: #e5e7eb;
    }
    
    .chat-box { 
      background: rgba(15, 23, 42, 0.96);
      border-radius: 20px; 
      padding: 18px 18px 16px; 
      max-width: 560px; 
      width: 100%;
      margin: auto; 
      box-shadow: 0 18px 45px rgba(0,0,0,0.5);
      height: 90vh;
      display: flex;
      flex-direction: column;
      border: 1px solid rgba(148, 163, 184, 0.35);
      backdrop-filter: blur(18px);
    }

    .chat-header {
      display: flex;
      align-items: center;
      justify-content: space-between;
      gap: 8px;
      margin-bottom: 10px;
    }

    .header-right {
      display: flex;
      align-items: center;
      gap: 12px;
    }

    .back-btn {
      width: 40px;
      height: 40px;
      border-radius: 50%;
      background: rgba(255,255,255,0.1);
      display: flex;
      align-items: center;
      justify-content: center;
      cursor: pointer;
      transition: all 0.2s;
      border: 1px solid rgba(148, 163, 184, 0.3);
    }

    .back-btn:hover {
      background: rgba(255,255,255,0.2);
      transform: scale(1.05);
    }

    .back-btn i {
      color: white;
      font-size: 18px;
    }

    .chat-title {
      display: flex;
      align-items: center;
      gap: 8px;
    }

    .bot-avatar {
      width: 32px;
      height: 32px;
      border-radius: 999px;
      background: radial-gradient(circle at 30% 0%, #22c55e, #047857 55%, #022c22 100%);
      display: flex;
      align-items: center;
      justify-content: center;
      font-size: 18px;
      box-shadow: 0 0 20px rgba(34,197,94,0.4);
    }

    .chat-title-text {
      display: flex;
      flex-direction: column;
    }

    .chat-title-text span:first-child {
      font-size: 0.95rem;
      font-weight: 600;
      color: #e5e7eb;
    }

    .chat-title-text span:last-child {
      font-size: 0.78rem;
      color: #9ca3af;
    }

    .status-pill {
      display: inline-flex;
      align-items: center;
      gap: 6px;
      padding: 5px 10px;
      border-radius: 999px;
      background: rgba(22, 163, 74, 0.12);
      border: 1px solid rgba(34, 197, 94, 0.4);
      font-size: 0.75rem;
      color: #bbf7d0;
    }

    .status-dot {
      width: 7px;
      height: 7px;
      border-radius: 999px;
      background: #22c55e;
      box-shadow: 0 0 8px rgba(34,197,94,0.8);
    }

    .messages { 
      flex: 1;
      overflow-y: auto; 
      margin-bottom: 12px; 
      border-radius: 14px;
      background: radial-gradient(circle at top, #020617 0, #020617 40%, #030712 100%);
      padding: 12px 10px 10px; 
      border: 1px solid rgba(55, 65, 81, 0.7);
    }
    
    .user, .bot { 
      margin: 8px 0; 
      padding: 10px 14px; 
      border-radius: 14px; 
      max-width: 90%;
      word-wrap: break-word;
      line-height: 1.5;
      font-size: 0.92rem;
      animation: fadeIn 0.25s ease-in;
    }
    
    .user { 
      background: linear-gradient(135deg, #22c55e, #16a34a); 
      color: #ecfdf5;
      text-align: right; 
      margin-left: auto;
      border-bottom-right-radius: 4px;
      box-shadow: 0 4px 12px rgba(34,197,94,0.35);
    }
    
    .bot { 
      background: linear-gradient(135deg, #020617, #111827); 
      color: #e5e7eb;
      text-align: left; 
      border-bottom-left-radius: 4px;
      border: 1px solid rgba(55, 65, 81, 0.8);
    }

    .bot.loading {
      background: transparent;
      border: none;
      box-shadow: none;
      padding-inline: 4px;
    }
    
    .input-container {
      display: flex;
      gap: 8px;
      align-items: center;
      border-radius: 999px;
      border: 1px solid rgba(75, 85, 99, 0.9);
      padding: 4px 6px;
      background: radial-gradient(circle at 0 0, rgba(30,64,175,0.3), rgba(15,23,42,0.98));
    }
    
    input { 
      padding: 10px 12px; 
      flex: 1;
      border: none;
      border-radius: 999px;
      font-size: 0.95rem;
      outline: none;
      background: transparent;
      color: #e5e7eb;
      min-height: 42px;
    }

    input::placeholder {
      color: #6b7280;
    }
    
    button { 
      padding: 9px 15px; 
      background: radial-gradient(circle at 0 0, #22c55e, #16a34a);
      color: #ecfdf5;
      border: none;
      border-radius: 999px;
      cursor: pointer;
      font-size: 0.9rem;
      font-weight: 600;
      transition: all 0.2s ease-out;
      min-height: 36px;
      min-width: 70px;
      display: inline-flex;
      align-items: center;
      justify-content: center;
      gap: 4px;
      box-shadow: 0 8px 20px rgba(22,163,74,0.35);
      white-space: nowrap;
    }
    
    button:hover {
      transform: translateY(-1px) scale(1.01);
      box-shadow: 0 10px 24px rgba(22,163,74,0.5);
      filter: brightness(1.03);
    }
    
    button:active {
      transform: translateY(0) scale(0.99);
      box-shadow: 0 4px 12px rgba(22,163,74,0.35);
    }
    
    button:disabled {
      background: #4b5563;
      cursor: not-allowed;
      box-shadow: none;
      transform: none;
    }
    
    .loading {
      opacity: 0.85;
      font-style: italic;
      color: #9ca3af;
    }
    
    .error {
      background: rgba(127, 29, 29, 0.2);
      color: #fecaca;
      padding: 10px;
      border-radius: 10px;
      margin: 8px 0;
      border: 1px solid rgba(248, 113, 113, 0.7);
      font-size: 0.88rem;
    }
    
    .typing-indicator {
      display: inline-flex;
      align-items: center;
      gap: 6px;
      font-size: 0.78rem;
      color: #9ca3af;
    }
    
    .typing-dot {
      width: 6px;
      height: 6px;
      background: #9ca3af;
      border-radius: 50%;
      animation: typing 1.4s infinite ease-in-out;
    }
    
    .typing-dot:nth-child(1) { animation-delay: -0.32s; }
    .typing-dot:nth-child(2) { animation-delay: -0.16s; }
    
    @keyframes fadeIn {
      from { opacity: 0; transform: translateY(6px); }
      to { opacity: 1; transform: translateY(0); }
    }
    
    @keyframes typing {
      0%, 60%, 100% { transform: scale(0.8); opacity: 0.4; }
      30% { transform: scale(1); opacity: 1; }
    }
    
    .messages::-webkit-scrollbar {
      width: 4px;
    }
    
    .messages::-webkit-scrollbar-track {
      background: transparent;
      border-radius: 10px;
    }
    
    .messages::-webkit-scrollbar-thumb {
      background: #4b5563;
      border-radius: 10px;
    }
    
    .messages::-webkit-scrollbar-thumb:hover {
      background: #6b7280;
    }
    
    @media (max-width: 400px) {
      body { padding: 8px; }
      .chat-box { padding: 12px; border-radius: 16px; height: 95vh; }
      .messages { padding: 10px; margin-bottom: 10px; }
      .user, .bot { max-width: 95%; padding: 8px 10px; font-size: 0.9rem; margin: 7px 0; }
      .chat-title-text span:first-child { font-size: 0.9rem; }
      .chat-title-text span:last-child { font-size: 0.75rem; }
      .back-btn { width: 35px; height: 35px; }
    }
    
    @media (min-width: 401px) and (max-width: 480px) {
      body { padding: 10px; }
      .chat-box { padding: 14px; height: 92vh; }
      .user, .bot { max-width: 90%; }
    }
    
    @media (min-width: 481px) and (max-width: 768px) {
      .chat-box { max-width: 520px; height: 86vh; }
      .user, .bot { max-width: 88%; }
    }
    
    @media (max-height: 500px) and (orientation: landscape) {
      body { padding: 8px; }
      .chat-box { height: 96vh; padding: 10px; }
      .messages { margin-bottom: 8px; padding: 8px; }
      .user, .bot { padding: 6px 9px; font-size: 0.85rem; margin: 6px 0; max-width: 90%; }
      .input-container { gap: 6px; padding-inline: 8px; }
      input { padding: 8px 10px; min-height: 38px; font-size: 0.86rem; }
      button { padding: 8px 12px; min-height: 38px; min-width: 60px; font-size: 0.86rem; }
    }
  </style>
</head>
<body>

  <div class="chat-box">
    <div class="chat-header">
      <div class="header-right">
        <!-- Ø²Ø± Ø§Ù„Ø±Ø¬ÙˆØ¹ -->
        <div class="back-btn" onclick="window.location.href='html.html'">
          <i class="fa-solid fa-arrow-right"></i>
        </div>
        <div class="chat-title">
          <div class="bot-avatar">ğŸ¤–</div>
          <div class="chat-title-text">
            <span>Ø£Ø¨Ùˆ Ø§Ù„Ø´Ø§Øª Ø§Ù„Ù…Ø­Ù„ÙŠ</span>
            <span>Ù†Ø³Ø®Ø© Ø®ÙÙŠÙØ© ØªØ¹Ù…Ù„ Ù…Ù† Ø¬Ù‡Ø§Ø²Ùƒ ÙÙ‚Ø·</span>
          </div>
        </div>
      </div>
      <div class="status-pill">
        <span class="status-dot"></span>
        <span>Ù…ØªØµÙ„ Ù…Ø­Ù„ÙŠØ§Ù‹</span>
      </div>
    </div>
    
    <div class="messages" id="chat"></div>
    <div class="input-container">
      <input type="text" id="message" placeholder="Ø§ÙƒØªØ¨ Ø³Ø¤Ø§Ù„Ùƒ Ø£Ùˆ Ø·Ù„Ø¨Ùƒ Ù‡Ù†Ø§..." onkeypress="handleKeyPress(event)" />
      <button id="sendBtn" onclick="sendMessage()">
        Ø¥Ø±Ø³Ø§Ù„
      </button>
    </div>
  </div>

  <script>
    const knowledgeBase = {
      greetings: [
        "Ø£Ù‡Ù„Ø§Ù‹ ÙˆØ³Ù‡Ù„Ø§Ù‹ Ø¨ÙŠÙƒ âœ¨ Ø£Ù†Ø§ Ø£Ø¨Ùˆ Ø§Ù„Ø´Ø§Øª Ø§Ù„Ù…Ø­Ù„ÙŠØŒ Ø£Ù‚Ø¯Ø± Ø£Ø³Ø§Ø¹Ø¯Ùƒ ÙÙŠ Ø§Ù„Ø£Ø³Ø¦Ù„Ø©ØŒ Ø§Ù„Ø£ÙÙƒØ§Ø±ØŒ ÙˆØ§Ù„Ø¨Ø±Ù…Ø¬Ø©.",
        "ÙŠØ§ Ù‡Ù„Ø§ ÙˆØ§Ù„Ù„Ù‡! ğŸ˜„ Ù†ÙˆØ±Øª Ø§Ù„Ø´Ø§ØªØŒ Ù‚ÙˆÙ„ Ù„ÙŠ Ø­Ø§Ø¨Ø¨ Ù†Ø¨Ø¯Ø£ ÙÙŠ Ø¥ÙŠÙ‡ØŸ",
        "Ø£Ù‡Ù„Ø§Ù‹ Ø¨ÙŠÙƒ ğŸ‘‹ Ø¬Ø§Ù‡Ø² Ø£Ø³Ø§Ø¹Ø¯Ùƒ ÙÙŠ Ø£ÙŠ Ø­Ø§Ø¬Ø© ØªØ­Ø¨Ù‡Ø§ â€“ Ø¨Ø±Ù…Ø¬Ø©ØŒ Ù…Ø¹Ù„ÙˆÙ…Ø§ØªØŒ Ø£Ùˆ Ø­ØªÙ‰ ÙØ¶ÙØ¶Ø© Ø®ÙÙŠÙØ©."
      ],
      farewells: [
        "Ù…Ø¹ Ø§Ù„Ø³Ù„Ø§Ù…Ø© ğŸ‘‹ ÙƒØ§Ù† Ù…Ø¨Ø³ÙˆØ· Ø¨Ø§Ù„Ø¯Ø±Ø¯Ø´Ø© Ù…Ø¹Ø§ÙƒØŒ Ø§Ø³ØªÙ†Ø§Ù†ÙŠ ØªØ±Ø¬Ø¹ ØªØ§Ù†ÙŠ.",
        "Ø¥Ù„Ù‰ Ø§Ù„Ù„Ù‚Ø§Ø¡ ğŸŒŸ Ù„Ùˆ Ø§Ø­ØªØ¬Øª Ø£ÙŠ Ø­Ø§Ø¬Ø© Ø£Ù†Ø§ Ù…Ø³ØªÙ†ÙŠÙƒ Ù‡Ù†Ø§.",
        "ÙˆØ¯Ø§Ø¹Ø§Ù‹ Ø­Ø§Ù„ÙŠØ§Ù‹ØŒ Ø¨Ø³ Ù…Ø´ Ù†Ù‡Ø§Ø¦ÙŠØ§Ù‹ ğŸ˜‰ ØªØ¹Ø§Ù„ ÙÙŠ Ø£ÙŠ ÙˆÙ‚Øª."
      ],
      thanks: [
        "Ø§Ù„Ø¹ÙÙˆ ğŸ™ ÙˆØ¬ÙˆØ¯ÙŠ Ø§Ù„Ø£Ø³Ø§Ø³ÙŠ Ø¥Ù†ÙŠ Ø£Ø³Ø§Ø¹Ø¯Ùƒ.",
        "ÙˆÙ„Ø§ ÙŠÙ‡Ù…Ùƒ â¤ï¸ Ù„Ùˆ Ø§Ø­ØªØ¬Øª Ø£ÙŠ Ø­Ø§Ø¬Ø© ØªØ§Ù†ÙŠØ© Ø¨Ø³ Ù†Ø§Ø¯ÙŠÙ†ÙŠ.",
        "Ø´ÙƒØ±Ø§Ù‹ Ù„ÙŠÙƒ Ø¥Ù†Øª Ø¥Ù†Ùƒ Ø§Ø³ØªØ®Ø¯Ù…Øª Ø£Ø¨Ùˆ Ø§Ù„Ø´Ø§Øª Ø§Ù„Ù…Ø­Ù„ÙŠ ğŸ¤–."
      ],
      programming: [
        "Ø§Ù„Ø¨Ø±Ù…Ø¬Ø© Ø­Ù„ÙˆØ© Ø¬Ø¯Ù‹Ø§ ğŸ’»ØŒ ØªÙ‚Ø¯Ø± ØªØ³Ø£Ù„Ù†ÙŠ Ø¹Ù† HTML, CSS, JavaScript, Python ÙˆØ­Ø§Ø¬Ø§Øª ØªØ§Ù†ÙŠØ© ÙƒØªÙŠØ±.",
        "Ø¹Ø§ÙŠØ² ØªØ¨Ø¯Ø£ Ù…Ù†ÙŠÙ† ÙÙŠ Ø§Ù„Ø¨Ø±Ù…Ø¬Ø©ØŸ Ø£Ø³Ø§Ø³ÙŠØ§Øª ÙˆÙ„Ø§ Ø­Ù„ Ù…Ø´ÙƒÙ„Ø© Ù…Ø¹ÙŠÙ†Ø©ØŸ ğŸ˜",
        "Ø£ÙØ¶Ù„ Ø·Ø±ÙŠÙ‚Ø© ØªØªØ¹Ù„Ù… Ø¨Ø±Ù…Ø¬Ø©: Ø¬Ø±Ù‘Ø¨ â€“ ØºÙ„Ø· â€“ Ø¹Ø¯Ù„ â€“ Ø¹ÙŠØ¯. Ù…ÙÙŠØ´ Ù…Ø¨Ø±Ù…Ø¬ Ø§ØªÙˆÙ„Ø¯ Ù…Ø­ØªØ±Ù ğŸ’ª."
      ],
      advice: [
        "Ø­Ø§ÙˆÙ„ ØªØªØ¹Ù„Ù… ÙƒÙ„ ÙŠÙˆÙ… ÙˆÙ„Ùˆ Ù…Ø¹Ù„ÙˆÙ…Ø© ØµØºÙŠØ±Ø© ğŸŒ± Ø§Ù„Ø§Ø³ØªÙ…Ø±Ø§Ø±ÙŠØ© Ø£Ù‡Ù… Ù…Ù† Ø§Ù„ÙƒÙ…Ø§Ù„.",
        "Ù„Ùˆ Ø­Ø§Ø³Ø³ Ø¥Ù†Ùƒ ÙˆØ§Ù‚Ù ÙÙŠ Ø­ØªØ© Ù…Ø¹ÙŠÙ†Ø©ØŒ Ø®Ø¯ Ø¨Ø±ÙŠÙƒ Ø¨Ø³ÙŠØ· ÙˆØ§Ø±Ø¬Ø¹ ØªØ§Ù†ÙŠ ğŸ’†â€â™‚ï¸.",
        "Ø±ÙƒØ² Ø¹Ù„Ù‰ Ù‡Ø¯Ù ÙˆØ§Ø­Ø¯ ÙÙŠ Ù†ÙØ³ Ø§Ù„ÙˆÙ‚ØªØŒ Ù‡ØªÙ„Ø§Ù‚ÙŠ ØªÙ‚Ø¯Ù…Ùƒ Ø£Ø³Ø±Ø¹ Ø¨ÙƒØªÙŠØ± ğŸš€."
      ],
      weather: [
        "Ø£Ù†Ø§ Ø´ØºØ§Ù„ Ù…Ø­Ù„ÙŠ Ù…Ù† ØºÙŠØ± Ø¥Ù†ØªØ±Ù†Øª Ø­Ø§Ù„ÙŠÙ‹Ø§ ğŸŒØŒ ÙÙ…Ø´ Ø£Ù‚Ø¯Ø± Ø£Ø¬ÙŠØ¨ Ø­Ø§Ù„Ø© Ø§Ù„Ø·Ù‚Ø³ Ø¨Ø§Ù„Ø¸Ø¨Ø·ØŒ Ø¨Ø³ Ø£Ù‚Ø¯Ø± Ø£Ù‚ÙˆÙ„Ùƒ: Ø®ÙØ¯ Ù…Ø¹Ø§Ùƒ Ø¬Ø§ÙƒÙŠØª Ø§Ø­ØªÙŠØ§Ø·Ø§Ù‹ ğŸ˜„."
      ],
      time: [
        `Ø­Ø§Ù„ÙŠØ§Ù‹ Ø§Ù„ÙˆÙ‚Øª Ø¹Ù„Ù‰ Ø¬Ù‡Ø§Ø²Ùƒ Ù‡Ùˆ: ${new Date().toLocaleTimeString('ar-EG')}`,
        `Ø§Ù„ØªØ§Ø±ÙŠØ® Ø¹Ù„Ù‰ Ø¬Ù‡Ø§Ø²Ùƒ Ø§Ù„ÙŠÙˆÙ…: ${new Date().toLocaleDateString('ar-EG')}`
      ],
      jokes: [
        "Ù„ÙŠÙ‡ Ø§Ù„Ù…Ø¨Ø±Ù…Ø¬ Ø¨ÙŠØ­Ø¨ Ø§Ù„Ù„ÙŠÙ„ØŸ Ø¹Ø´Ø§Ù† Ø§Ù„Ø¨Ù‚ (bugs) Ø¨ØªØ¸Ù‡Ø± Ø¨ÙˆØ¶ÙˆØ­ ÙÙŠ Ø§Ù„Ø¸Ù„Ø§Ù… ğŸ˜…",
        "Ø§Ù„Ù…Ø¨Ø±Ù…Ø¬ Ù„Ù…Ø§ Ø­Ø¯ ÙŠÙ‚ÙˆÙ„Ù‡ Ø¹Ù†Ø¯Ùƒ Ø¯Ù‚ÙŠÙ‚Ø©ØŸ ÙŠØ±Ø¯: Ø¯Ù‚ÙŠÙ‚Ù‡ Ø­Ù‚ÙŠÙ‚ÙŠØ© ÙˆÙ„Ø§ CPU timeØŸ ğŸ¤“",
        "Ù…Ø±Ø© ÙØ§Ù†ÙƒØ´Ù† Ø¯Ø®Ù„Øª Ù…Ø·Ø¹Ù…â€¦ Ø§Ù„Ø¬Ø±Ø³ÙˆÙ† Ù‚Ø§Ù„Ù‡Ø§: ØªØ­Ø¨ÙŠ ØªØ±Ø¬Ø¹ÙŠ Ù‚ÙŠÙ…Ø© Ù…Ø¹Ø§Ù†Ø§ØŸ ğŸ½ï¸"
      ],
      aboutCreator: [
        "Ø£Ù†Ø§ Ù†Ø³Ø®Ø© Ù…Ø­Ù„ÙŠØ© Ù…Ù† ØµÙ†Ø¹ ÙˆØ¨Ø±Ù…Ø¬Ø© Ø§Ù„Ù…Ø¨Ø±Ù…Ø¬ Ù…Ø­Ù…ÙˆØ¯ Ø¹Ø§Ù…Ø± ğŸ‘¨â€ğŸ’»ØŒ Ø´ØºØ§Ù„ Ù…Ù† Ø¬Ù‡Ø§Ø²Ùƒ Ù…Ù† ØºÙŠØ± Ø³Ø­Ø§Ø¨Ø© ÙˆÙ„Ø§ Ø­ÙØ¸ Ø¨ÙŠØ§Ù†Ø§Øª.",
        "Ø§Ù„Ù…Ø·ÙˆØ± Ø§Ù„Ù„ÙŠ Ø¹Ù…Ù„Ù†ÙŠ Ø§Ø³Ù…Ù‡ Ù…Ø­Ù…ÙˆØ¯ Ø¹Ø§Ù…Ø±ØŒ ÙˆÙ‡Ø¯ÙÙ‡ ÙŠØ¯ÙŠÙƒ Ù…Ø³Ø§Ø¹Ø¯ Ø°ÙƒÙŠ Ø¨Ø³ÙŠØ· ÙˆØ®ÙÙŠÙ ÙŠØ´ØªØºÙ„ Ù…Ù† ØºÙŠØ± Ù†Øª ğŸ’¡."
      ],
      mood: [
        "Ø£Ù†Ø§ Ø¯Ø§ÙŠÙ…Ù‹Ø§ ØªÙ…Ø§Ù… Ø¨Ù…Ø§ Ø¥Ù†ÙŠ ÙƒÙˆØ¯ ğŸ˜„ØŒ Ø§Ù„Ø£Ù‡Ù… Ø¥Ù†Øª Ø¹Ø§Ù…Ù„ Ø¥ÙŠÙ‡ØŸ",
        "Ù„Ùˆ Ù…ÙˆØ¯Ùƒ Ù…Ø´ Ø£Ø­Ø³Ù† Ø­Ø§Ø¬Ø©ØŒ Ø®Ø¯ Ù†ÙØ³ Ø¹Ù…ÙŠÙ‚ ÙˆØ§ÙØªÙƒØ± Ø¥Ù† ÙƒÙ„ Ø­Ø§Ø¬Ø© Ø¨ØªØ¹Ø¯Ù‘ÙŠ ğŸŒ¤ï¸.",
        "Ù…Ø²Ø§Ø¬ÙŠ Ø«Ø§Ø¨Øª Ø§Ù„Ø­Ù…Ø¯ Ù„Ù„Ù‡ ğŸ¤–ØŒ Ø¨Ø³ ÙŠÙ‡Ù…Ù†ÙŠ Ù…ÙˆØ¯Ùƒ Ø¥Ù†Øª Ø£ÙƒØªØ±."
      ]
    };

    const botPersonality = {
      name: "Ø£Ø¨Ùˆ Ø§Ù„Ø´Ø§Øª",
      traits: ["Ù…ÙÙŠØ¯", "Ù…Ø±Ø­", "Ø¯Ø§Ø¹Ù…", "ØµØ±ÙŠØ­", "Ù…Ø­Ù„ÙŠ"],
      style: "Ø£Ø³Ù„ÙˆØ¨Ù‡ Ø¨Ø³ÙŠØ· ÙˆÙ„Ø·ÙŠÙØŒ ÙŠÙ…ÙŠÙ„ Ù„Ù„Ù‡Ø¬Ø© Ø§Ù„Ù…ØµØ±ÙŠØ©ØŒ ÙˆÙŠØ±ÙƒØ² Ø¹Ù„Ù‰ Ø§Ù„ÙØ§ÙŠØ¯Ø© Ù…Ù† ØºÙŠØ± ØªØ¹Ù‚ÙŠØ¯."
    };

    window.onload = function() {
      addBotMessage(
        "Ù…Ø±Ø­Ø¨Ø§Ù‹ Ø¨ÙŠÙƒ ğŸ™Œ Ø£Ù†Ø§ Ø£Ø¨Ùˆ Ø§Ù„Ø´Ø§Øª Ø§Ù„Ù…Ø­Ù„ÙŠ â€“ Ù†Ø³Ø®Ø© Ø®ÙÙŠÙØ© Ø´ØºØ§Ù„Ø© Ù…Ù† Ø¬Ù‡Ø§Ø²Ùƒ Ù…Ù† ØºÙŠØ± Ø¥Ù†ØªØ±Ù†Øª. " +
        "Ø§Ù„Ù„ÙŠ Ø¨Ø±Ù…Ø¬Ù†ÙŠ Ù‡Ùˆ Ø§Ù„Ù…Ø¨Ø±Ù…Ø¬ Ù…Ø­Ù…ÙˆØ¯ Ø¹Ø§Ù…Ø± ğŸ‘¨â€ğŸ’».\n\nØ§Ø³Ø£Ù„Ù†ÙŠ Ø¹Ù† Ø¨Ø±Ù…Ø¬Ø©ØŒ Ù†ØµØ§ÙŠØ­ØŒ Ù†ÙƒØªØŒ Ø£Ùˆ Ø£ÙŠ Ø­Ø§Ø¬Ø© ØªØ­Ø¨ ØªØªÙƒÙ„Ù… ÙÙŠÙ‡Ø§."
      );
    };

    function handleKeyPress(event) {
      if (event.key === 'Enter') {
        event.preventDefault();
        sendMessage();
      }
    }

    async function sendMessage() {
      const input = document.getElementById("message");
      const sendBtn = document.getElementById("sendBtn");

      const userMessage = input.value.trim();
      if (!userMessage) return;

      addUserMessage(userMessage);
      sendBtn.disabled = true;
      input.value = "";
      
      const loadingMsg = addTypingIndicator();

      await new Promise(resolve => setTimeout(resolve, 700 + Math.random() * 900));

      try {
        const botReply = generateSmartResponse(userMessage);
        loadingMsg.remove();
        addBotMessage(botReply);
      } catch (error) {
        try { loadingMsg.remove(); } catch (e) {}
        addErrorMessage(`Ø¹Ø°Ø±Ø§Ù‹ØŒ Ø­ØµÙ„ Ø®Ø·Ø£ Ø¨Ø³ÙŠØ·: ${error.message}`);
      } finally {
        sendBtn.disabled = false;
        input.focus();
      }
    }

    function generateSmartResponse(userMessage) {
      const message = userMessage.toLowerCase();

      if (
        message.includes('Ù…Ø±Ø­Ø¨Ø§') || message.includes('Ø§Ù‡Ù„Ø§') || message.includes('Ø§Ù„Ø³Ù„Ø§Ù…') ||
        message.includes('Ù‡Ù„Ø§') || message.includes('Ø§Ø²ÙŠÙƒ') || message.includes('hello') || 
        message.includes('hi')
      ) {
        return getRandomResponse(knowledgeBase.greetings);
      }
      else if (
        message.includes('Ù…Ø¹ Ø§Ù„Ø³Ù„Ø§Ù…Ø©') || message.includes('ÙˆØ¯Ø§Ø¹') || message.includes('Ø¨Ø§Ù‰') || 
        message.includes('Ø¨Ø§ÙŠ') || message.includes('bye')
      ) {
        return getRandomResponse(knowledgeBase.farewells);
      }
      else if (
        message.includes('Ø´ÙƒØ±') || message.includes('thank you') || 
        message.includes('thanks') || message.includes('Ù…ØªØ´ÙƒØ±')
      ) {
        return getRandomResponse(knowledgeBase.thanks);
      }
      else if (
        message.includes('Ø¨Ø±Ù…Ø¬') || message.includes('ÙƒÙˆØ¯') || message.includes('code') ||
        message.includes('html') || message.includes('css') || message.includes('Ø¬Ø§ÙØ§') || 
        message.includes('javascript') || message.includes('python') || message.includes('Ø¨Ø§ÙŠØ«ÙˆÙ†')
      ) {
        return getRandomResponse(knowledgeBase.programming);
      }
      else if (
        message.includes('Ù†ØµÙŠØ­') || message.includes('Ù†ØµØ­Ø©') || message.includes('advice') ||
        message.includes('Ù…Ø³Ø§Ø¹Ø¯Ø©') || message.includes('Ø³Ø§Ø¹Ø¯Ù†ÙŠ') || message.includes('Ù…Ø´ÙƒÙ„Ø©')
      ) {
        return getRandomResponse(knowledgeBase.advice);
      }
      else if (message.includes('Ø·Ù‚Ø³') || message.includes('weather') || message.includes('Ø¬Ùˆ')) {
        return getRandomResponse(knowledgeBase.weather);
      }
      else if (
        message.includes('ÙˆÙ‚Øª') || message.includes('Ø§Ù„Ø³Ø§Ø¹Ø©') || 
        message.includes('time') || message.includes('ØªØ§Ø±ÙŠØ®')
      ) {
        return `Ø§Ù„ÙˆÙ‚Øª Ø§Ù„Ø­Ø§Ù„ÙŠ Ø¹Ù„Ù‰ Ø¬Ù‡Ø§Ø²Ùƒ: ${new Date().toLocaleTimeString('ar-EG')} â€“ ÙˆØ§Ù„ØªØ§Ø±ÙŠØ®: ${new Date().toLocaleDateString('ar-EG')}`;
      }
      else if (
        message.includes('Ù†ÙƒØª') || message.includes('Ø¶Ø­Ùƒ') || 
        message.includes(' joke') || message.includes('ÙÙƒØ§Ù‡')
      ) {
        return getRandomResponse(knowledgeBase.jokes);
      }
      else if (
        message.includes('Ø§Ø³Ù…Ùƒ') || message.includes('Ù…Ù† Ø§Ù†Øª') || 
        message.includes('who are you') || message.includes('Ù…ÙŠÙ† Ø§Ù†Øª')
      ) {
        return `Ø£Ù†Ø§ ${botPersonality.name} ğŸ¤–ØŒ Ù…Ø³Ø§Ø¹Ø¯ Ø°ÙƒÙŠ Ù…Ø­Ù„ÙŠ ${botPersonality.traits.join('ØŒ ')}.\nØ£Ø³Ù„ÙˆØ¨ÙŠ: ${botPersonality.style}`;
      }
      else if (
        message.includes('Ù…Ù† ØµÙ†Ø¹Ùƒ') || message.includes('Ù…ÙŠÙ† Ø¹Ù…Ù„Ùƒ') || 
        message.includes('Ù…ÙŠÙ† Ø¨Ø±Ù…Ø¬Ùƒ') || message.includes('Ù…ÙŠÙ† ØµØ§Ù†Ø¹Ùƒ') ||
        message.includes('Ù…Ø¨Ø±Ù…Ø¬Ùƒ') || message.includes('Ø§Ù„Ù„ÙŠ Ø¹Ù…Ù„Ùƒ')
      ) {
        return getRandomResponse(knowledgeBase.aboutCreator);
      }
      else if (
        message.includes('Ø­Ø¨') || message.includes('Ø­Ø¨ÙŠØ¨Ø©') || 
        message.includes('Ø¹Ø´Ù‚') || message.includes('Ø¨Ø­Ø¨')
      ) {
        return "Ø§Ù„Ø­Ø¨ Ø¬Ù…ÙŠÙ„ Ø¬Ø¯Ù‹Ø§ â¤ï¸ Ø¨Ø³ Ø¨Ù…Ø§ Ø¥Ù†ÙŠ Ù…Ø³Ø§Ø¹Ø¯ Ø°ÙƒÙŠØŒ Ø®Ø¨Ø±ØªÙŠ Ø§Ù„Ù†Ø¸Ø±ÙŠØ© Ø£Ø­Ø³Ù† Ù…Ù† Ø§Ù„Ø¹Ù…Ù„ÙŠØ© ÙÙŠ Ø§Ù„Ù…ÙˆØ¶ÙˆØ¹ Ø¯Ù‡ ğŸ˜„ Ù„ÙƒÙ† Ù„Ùˆ Ø­Ø§Ø¨Ø¨ Ù†ØµØ§ÙŠØ­ Ø¹Ø§Ù…Ø© ÙÙŠ Ø§Ù„Ø¹Ù„Ø§Ù‚Ø§Øª Ø£Ù‚Ø¯Ø± Ø£Ø³Ø§Ø¹Ø¯Ùƒ.";
      }
      else if (
        message.includes('Ø§ÙƒÙ„') || message.includes('Ø£ÙƒÙ„') || message.includes('Ø·Ø¹Ø§Ù…') ||
        message.includes('Ù…Ø·Ø¹Ù…') || message.includes('Ø¬ÙˆØ¹Ø§Ù†') || message.includes('food')
      ) {
        return "Ù„Ù„Ø£Ø³Ù Ù…Ø´ Ø¨Ø°ÙˆÙ‚ Ø§Ù„Ø£ÙƒÙ„ ğŸ˜…ØŒ Ø¨Ø³ Ø£ØºÙ„Ø¨ Ø§Ù„Ù†Ø§Ø³ Ù…ØªÙÙ‚ÙŠÙ† Ø¥Ù† Ø§Ù„Ø¨ÙŠØªØ²Ø§ØŒ Ø§Ù„Ø´Ø§ÙˆØ±Ù…Ø§ØŒ ÙˆØ§Ù„ÙƒÙ†Ø§ÙØ© Ù…Ù† Ø£Ø¹Ø¸Ù… Ø§Ø®ØªØ±Ø§Ø¹Ø§Øª Ø§Ù„Ø¨Ø´Ø±ÙŠØ© ğŸ•ğŸ—.";
      }
      else if (
        message.includes('Ø¹Ø§Ù…Ù„ Ø§ÙŠÙ‡') || message.includes('Ø§Ø®Ø¨Ø§Ø±Ùƒ') || 
        message.includes('Ø§Ø²ÙŠÙƒ') || message.includes('ÙƒÙŠÙÙƒ') || message.includes('Ù…ÙˆØ¯Ùƒ')
      ) {
        return getRandomResponse(knowledgeBase.mood);
      }
      else {
        const generalResponses = [
          "Ø³Ø¤Ø§Ù„ Ø­Ù„Ùˆ ğŸ‘Œ Ø¨Ø³ Ø¥Ù…ÙƒØ§Ù†ÙŠØ§ØªÙŠ Ø­Ø§Ù„ÙŠØ§Ù‹ Ø¨Ø³ÙŠØ·Ø© ÙˆÙ…Ø­Ø¯ÙˆØ¯Ø© Ø¨Ø§Ù„Ù„ÙŠ Ù…Ø¨Ø±Ù…ÙØ¬ Ø¬ÙˆØ§ÙŠØ§. Ø­Ø§ÙˆÙ„ ØªØ¹ÙŠØ¯ ØµÙŠØ§ØºØ© Ø³Ø¤Ø§Ù„Ùƒ Ø£Ùˆ ØªØ­Ø¯Ø¯Ù‡ Ø£ÙƒØªØ±.",
          "ÙØ§Ù‡Ù… Ø¹Ù„ÙŠÙƒ ğŸ‘ Ø¨Ø³ Ù…Ø­ØªØ§Ø¬ Ù…Ù†Ùƒ ØªÙØ§ØµÙŠÙ„ Ø²ÙŠØ§Ø¯Ø© Ø¹Ø´Ø§Ù† Ø£Ø¬Ø§ÙˆØ¨Ùƒ Ø¨Ø´ÙƒÙ„ Ø£Ø¯Ù‚.",
          "Ø­Ø§Ù„ÙŠØ§Ù‹ Ø£Ù†Ø§ Ù†Ø³Ø®Ø© Ù…Ø­Ù„ÙŠØ© Ø®ÙÙŠÙØ©ØŒ Ù…Ø´ Ù…ØªØµÙ„ Ø¨Ø§Ù„Ø¥Ù†ØªØ±Ù†Øª ğŸŒØŒ ÙØ¥Ø¬Ø§Ø¨Ø§ØªÙŠ Ù…Ø¨Ù†ÙŠØ© Ø¹Ù„Ù‰ Ù…Ø¹Ù„ÙˆÙ…Ø§Øª Ø¹Ø§Ù…Ø© Ù…Ø´ Ù…Ø­Ø¯Ø«Ø©.",
          "Ù…Ù…ÙƒÙ† ØªØ´Ø±Ø­ Ù„ÙŠ Ø£ÙƒØªØ± Ø¥ÙŠÙ‡ Ø§Ù„Ù„ÙŠ Ø­Ø§Ø¨Ø¨ ØªÙˆØµÙ„Ù‡ Ø¹Ø´Ø§Ù† Ø£Ø³Ø§Ø¹Ø¯Ùƒ Ø¨Ø®Ø·ÙˆØ§Øª Ø¹Ù…Ù„ÙŠØ©ØŸ",
          "Ù…ÙˆØ¶ÙˆØ¹ Ù…Ù‡Ù… ğŸ‘€ØŒ Ù„Ùˆ Ø­Ø§Ø¨Ø¨ Ù†Ù‚Ø¯Ø± Ù†Ø¬Ø²Ù‘Ø£Ù‡ Ù„Ø£Ø³Ø¦Ù„Ø© ØµØºÙŠØ±Ø© ÙˆÙ†Ù…Ø´ÙŠ Ø­ØªØ© Ø­ØªØ©."
        ];
        return getRandomResponse(generalResponses);
      }
    }

    function getRandomResponse(responses) {
      return responses[Math.floor(Math.random() * responses.length)];
    }

    function addTypingIndicator() {
      const chat = document.getElementById("chat");
      const messageDiv = document.createElement("div");
      
      messageDiv.className = "bot loading";
      messageDiv.innerHTML = `
        <div class="typing-indicator">
          <span>Ø£Ø¨Ùˆ Ø§Ù„Ø´Ø§Øª ÙŠÙƒØªØ¨</span>
          <div class="typing-dot"></div>
          <div class="typing-dot"></div>
          <div class="typing-dot"></div>
        </div>
      `;
      
      chat.appendChild(messageDiv);
      chat.scrollTop = chat.scrollHeight;
      return messageDiv;
    }

    function addUserMessage(text) { return addMessage(text, "user"); }
    function addBotMessage(text, className = "") { return addMessage(text, "bot", className); }
    function addErrorMessage(text) { return addMessage(text, "error"); }

    function addMessage(text, type, className = "") {
      const chat = document.getElementById("chat");
      const messageDiv = document.createElement("div");
      messageDiv.className = `${type} ${className}`;
      messageDiv.innerText = text;
      chat.appendChild(messageDiv);
      chat.scrollTop = chat.scrollHeight;
      return messageDiv;
    }
  </script>
</body>
</html>